[{"content":"\r\n\r\n## 简介\r\n\r\nQCustomPlot是一个用于Qt作图的函数库，使用十分方便，只需将qcustomplot.h和qcustomplot.cpp两个文件加入工程即可。\r\n在作图时我们经常会有图形交互的需求，例如图形移动、缩放，获取数据点信息等，在这方面QCustomPlot提供了很方便的接口。\r\n\r\n![QCustomPlot作图示例](./images/qcustomplot0.png)\r\n\r\n## 设置交互类型\r\nQCustomPlot提供了`setInteractions()`函数接口来设置图形的交互类型。如下代码所示，将图形的拖拽、缩放以及数据选择操作设为真。\r\n\r\n``` cpp\r\nqcustomplot-\u003esetInteractions(QCP::iRangeDrag | QCP::iRangeZoom | QCP::iSelectPlottables);\r\n```\r\n只要设置了`QCP::iRangeDrag`和`QCP::iRangeZoom`，图形边自动具有鼠标拖拽和利用滚轮缩放功能了，十分方便。\r\n\r\n## 获取数据点信息\r\n设置了`QCP::iSelectPlottables`后，图形便可以选择了，利用`plottableClick`和`plottableDoubleClick`信号可以对数据的单击和双击响应进行设置。\r\n\r\n下面我们通过一个例子，实现单击数据点获取其位置（x坐标）和数据点的值（y坐标）。\r\n\r\n首先添加一个槽函数：获取被点击的图的name、数据点的位置、数据点的值输出。\r\n``` cpp\r\nvoid ClassName::graphClicked(QCPAbstractPlottable *plottable, int dataIndex)\r\n{\r\n  double dataValue = plottable-\u003einterface1D()-\u003edataMainValue(dataIndex);\r\n  double dataKey = plottable-\u003einterface1D()-\u003edataMainKey(dataIndex);\r\n  QString message = QString(\"Clicked on graph '%1' at data point #%2 with value %3.\").arg(plottable-\u003ename()).arg(dataIndex).arg(dataValue);\r\n  qDebug() \u003c\u003c message;\r\n}\r\n```\r\n\r\n再将鼠标单击信号与槽函数连接即可：\r\n``` cpp\r\nconnect(qcustomplot,\r\n            SIGNAL(plottableClick(QCPAbstractPlottable*,int,QMouseEvent*)),\r\n            this,\r\n            SLOT(graphClicked(QCPAbstractPlottable*,int)));\r\n```\r\n","cover":"./images/qcustomplot0.png","link":"qcustomplot1-intereaction.html","preview":"\u003cp\u003eQCustomplot图形交互接口学习。\u003c/p\u003e\n","title":"QCustomplot学习笔记1-图形交互"},{"content":"\r\n\r\n## 1 什么是A-Frame？\r\n![A-Frame logo](/aframe-introduction/img/aframe-logo.jpg)\r\n[A-Frame][aframe]是由[Mozilla][mozilla]旗下的VR团队[MozVR][mozvr]设计和维护的一个开源框架，使开发者不必学习3D绘图标准WebGL复杂的API，就能够轻松完成3D或VR网页的制作。\r\nA-Frame的使用简单到什么程度呢？只要在网页文件中加入以下一行代码，就可以将A-Frame组件集成到网页中，通过使用熟悉的HTML代码方式，便可以方便地进行3D和VR内容的开发。\r\n```xml\r\n\u003cscript src=\"https://aframe.io/releases/0.2.0/aframe.min.js\"\u003e\u003c/script\u003e\r\n```\r\n## 2 A-Frame能做什么？\r\n下面用几个A-Frame应用的实例来给你一个直观的感受。\r\n### [动态UI](/aframe-introduction/examples/showcase/anime-UI)\r\n[![动态UI](/aframe-introduction/img/anime-ui.jpg)](/aframe-introduction/examples/showcase/anime-UI)\r\n### [动画](/aframe-introduction/examples/animation/generic-logo)\r\n[![动画](/aframe-introduction/img/generic-logo.jpg)](/aframe-introduction/examples/animation/generic-logo)\r\n### [组合](/aframe-introduction/examples/showcase/composite)\r\n[![组合](/aframe-introduction/img/composite.jpg)](/aframe-introduction/examples/showcase/composite)\r\n### [弯曲的图像](/aframe-introduction/examples/showcase/curved-mockups)\r\n[![弯曲的图像](/aframe-introduction/img/curved-mockups.jpg)](/aframe-introduction/examples/showcase/curved-mockups)\r\n### [动态光源](/aframe-introduction/examples/showcase/dynamic-lights)\r\n[![动态光源](/aframe-introduction/img/dynamic-lights.jpg)](/aframe-introduction/examples/showcase/dynamic-lights)\r\n### [3D模型-模拟购物](/aframe-introduction/examples/showcase/shopping)\r\n[![3D模型-模拟购物](/aframe-introduction/img/shopping.jpg)](/aframe-introduction/examples/showcase/shopping)\r\n### [虚拟场景](/aframe-introduction/examples/test/geometry-gallery)\r\n[![虚拟场景](/aframe-introduction/img/geometry-gallery.jpg)](/aframe-introduction/examples/test/geometry-gallery)\r\n### [光标交互](/aframe-introduction/examples/test/cursor)\r\n[![光标交互](/aframe-introduction/img/cursor.jpg)](/aframe-introduction/examples/test/cursor)\r\n### [播放全景图](/aframe-introduction/examples/boilerplate/panorama)\r\n[![播放全景图](/aframe-introduction/img/panorama.jpg)](/aframe-introduction/examples/boilerplate/panorama)\r\n### [播放全景视频](/aframe-introduction/examples/boilerplate/360-video)\r\n[![播放全景视频](/aframe-introduction/img/360-video.jpg)](/aframe-introduction/examples/boilerplate/360-video)\r\n\r\n## 3 A-Frame的特点\r\n### 3.1 开源\r\nA-Frame是一个开源项目，托管在[Github][aframe-github]上。免费，所有人都可参与以开发和改进。\r\n### 3.2 适用于多种硬件平台\r\nA-Frame基于WebGL，因此它支持PC、手机（支持佩戴VR眼睛）、Oculus Rift DK2等设备，并且在未来将会支持更多的设备，如HTC Vive等。\r\n### 3.3 语法简单方便\r\nA-Frame的语法与HTML语言类似，例如，定义一个正方体，只需要添加以下一行代码即可：\r\n```xml\r\n\u003ca-box position=\"-1 0.5 1\" rotation=\"0 45 0\" width=\"1\" height=\"1\" depth=\"1\"  color=\"#4CC3D9\"\u003e\u003c/a-box\u003e\r\n```\r\n### 3.4 丰富的js接口\r\nA-Frame提供了丰富的js接口，例如，使用`document.querySelector()`方法即可获得相应对象。通过js代码可以操作所有使用A-Frame定义的内容，因此熟悉js的开发者可以在此基础上开发更加复杂的场景和功能。\r\n另外，A-Frame基于WebGL的第三方js库[three.js][three]开发，因此熟悉three.js的开发者可以快速上手。\r\n### 3.5 学习曲线光滑\r\n初学者：理解和使用简单的`\u003ca-box\u003e`等基本体；\r\n进阶：自己开发功能，深入底层。\r\n### 3.6 采用“实体-组件-系统”模式，高复用性，高开发自由度\r\n“**实体-组件-系统**”模式（entity-component-system）是游戏开发界非常流行的一种设计模式。实体本身不产生什么，通过将组件插入实体的方式，为实体提供外观、行为、功能等属性，系统提供全局视角和服务、管理。这样就解决了以往每一种实体都要新建一个类的问题。同时这种方式，大大提高了组件模块的可重复利用性。\r\n下面是A-Frame的一个例子。`\u003ca-entity\u003e`代表实体，其本身不包含实质的东西。我们通过插入几何组件`geometry`和材料组件`material`的方式，为这个实体添加了形状、颜色等属性，这样定义的一个实体，就变成了一个西红柿颜色、半径1.5米的球体。\r\n```xml\r\n\u003ca-entity geometry=\"primitive: sphere; radius: 1.5\"\r\n          material=\"color: tomato; metalness: 0.7\"\u003e\u003c/a-entity\u003e\r\n```\r\n这样的模式大大提高的代码的复用性，我们可以方便地使用别人开发好的组件；同时这种模式的开发自由度高，我们也可以根据自己的需求开发自己的组件。\r\n### 3.7 支持3D模型\r\nA-Frame支持COLLADA的.DAE 3D模型文件，以及Wavefront的.OBJ 3D模型文件和.MTL材料文件。\r\n![3D模型](/aframe-introduction/img/models.jpg)\r\n\r\n### 3.8 支持资源管理\r\nA-Frame通过`\u003ca-assets\u003e`标签，提供资源（图像、视频、3D模型等）的预加载功能。资源加载完毕之后才播放场景（也可以设置一个最长等待时间，加载超时后强制播放场景）。\r\n\r\n### 3.9 目前存在的不足\r\n* 只能播放一个场景，没有漫游功能\r\n* 全景图播放将整张图直接加载播放，加载速度慢\r\n* 不能添加链接\r\n* 不支持`\u003ciframe\u003e`\r\n* 不保证支持平板？\r\n* ……\r\n\r\n## 4 A-Frame的学习和使用\r\n### 4.1 学习资源\r\n\u003e * [A-Frame官网][aframe]\r\n\u003e * [A-Frame官网文档][aframe-docs]\r\n\u003e * [A-Frame Github仓库][aframe-github]\r\n\u003e * [A-Frame 实例模板][aframe-boilerplate]\r\n\u003e * [A-Frame 优质学习材料、资源合集][awesome]\r\n\u003e * [更多A-Frame实例](/aframe-introduction/examples)\r\n\r\n### 4.3 Helloworld\r\n使用A-Frame，我们可以直接引用其官网的js文件，也可以下载到本地使用。\r\n下面是一个简单的A-Frame的helloworld例子，在一个VR场景中，放置了一个球体，长方体，圆柱体，平面，和一个背景。\r\n```xml\r\n\u003chtml\u003e\r\n  \u003chead\u003e\r\n    \u003cscript src=\"https://aframe.io/releases/0.2.0/aframe.min.js\"\u003e\u003c/script\u003e\r\n  \u003c/head\u003e\r\n  \u003cbody\u003e\r\n    \u003ca-scene\u003e\r\n      \u003ca-sphere position=\"0 1.25 -1\" radius=\"1.25\" color=\"#EF2D5E\"\u003e\u003c/a-sphere\u003e\r\n      \u003ca-box position=\"-1 0.5 1\" rotation=\"0 45 0\" width=\"1\" height=\"1\" depth=\"1\"  color=\"#4CC3D9\"\u003e\u003c/a-box\u003e\r\n      \u003ca-cylinder position=\"1 0.75 1\" radius=\"0.5\" height=\"1.5\" color=\"#FFC65D\"\u003e\u003c/a-cylinder\u003e\r\n      \u003ca-plane rotation=\"-90 0 0\" width=\"4\" height=\"4\" color=\"#7BC8A4\"\u003e\u003c/a-plane\u003e\r\n      \u003ca-sky color=\"#ECECEC\"\u003e\u003c/a-sky\u003e\r\n    \u003c/a-scene\u003e\r\n  \u003c/body\u003e\r\n\u003c/html\u003e\r\n```\r\n以上代码的实际效果如下图所示。([点击查看helloworld网页](/aframe-introduction/examples/boilerplate/hello-world/))\r\n![helloworld](/aframe-introduction/img/helloworld.jpg)\r\n\r\n[aframe]: https://aframe.io\r\n[aframe-docs]: https://aframe.io/docs/0.2.0/guide/\r\n[aframe-github]: https://github.com/aframevr/aframe/\r\n[aframe-boilerplate]: https://github.com/aframevr/aframe-boilerplate/\r\n[awesome]: https://github.com/aframevr/awesome-aframe\r\n[mozilla]: https://developer.mozilla.org\r\n[mozvr]: http://mozvr.com\r\n[three]: http://threejs.org/","cover":"/aframe-introduction/img/aframe-logo.jpg","link":"aframe-introduction.html","preview":"\u003cp\u003eQCustomplot图形交互接口学习。\u003c/p\u003e\n","title":"A-Frame介绍"}]